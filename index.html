<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gu√≠a de Aprendizaje: ScrumMastery ADSO</title>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ü§ñ</text></svg>">
    <!-- CSS -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/game-vision.css">
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;600;700;800&family=Sora:wght@400;600;700;800&display=swap"
        rel="stylesheet">
    <!-- Mermaid.js for Diagrams -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.9.1/dist/mermaid.min.js" crossorigin="anonymous"></script>
</head>

<body>

    <!-- PANTALLA DE CARGA -->
    <div id="app-loader">
        <div class="loader-content">
            <h2 class="animate-pulse">Cargando Gu√≠a Interactiva...</h2>
            <p id="loader-msg">Preparando entorno de aprendizaje...</p>
        </div>
    </div>

    <div class="app-layout">
        <!-- SIDEBAR DE NAVEGACI√ìN -->
        <aside class="sidebar" id="main-sidebar">
            <div class="sidebar-header">
                <div class="header-content">
                    <div class="logo">Scrum<span class="highlight">ADSO</span></div>
                    <p class="subtitle">Gu√≠a de Aprendizaje</p>
                </div>
                <button id="sidebar-toggle" class="sidebar-toggle" aria-label="Colapsar men√∫">
                    ‚ò∞
                </button>
            </div>

            <nav class="guide-nav">
                <div class="nav-group">
                    <h3>INTRODUCCI√ìN</h3>
                    <button class="nav-item" data-target="identificacion" title="1. Identificaci√≥n">
                        <span class="icon">üÜî</span>
                        <span class="text">1. Identificaci√≥n</span>
                    </button>
                    <button class="nav-item active" data-target="presentacion" title="2. Presentaci√≥n">
                        <span class="icon">üëã</span>
                        <span class="text">2. Presentaci√≥n</span>
                    </button>
                </div>

                <div class="nav-group">
                    <h3>ACTIVIDADES</h3>
                    <button class="nav-item" data-target="reflexion" title="3.1 Reflexi√≥n Inicial">
                        <span class="icon">ü§î</span>
                        <span class="text">3.1 Reflexi√≥n Inicial</span>
                    </button>
                    <button class="nav-item" data-target="contextualizacion" title="3.2 Contextualizaci√≥n">
                        <span class="icon">üìñ</span>
                        <span class="text">3.2 Contextualizaci√≥n</span>
                    </button>
                    <button class="nav-item" data-target="apropiacion" title="3.3 Apropiaci√≥n">
                        <span class="icon">üß†</span>
                        <span class="text">3.3 Apropiaci√≥n</span>
                    </button>
                </div>

                <div class="nav-group">
                    <h3>LABORATORIO</h3>
                    <button class="nav-item special-item" data-target="juegos" title="Centro de Juegos">
                        <span class="icon">üéÆ</span>
                        <span class="text">Centro de Juegos</span>
                    </button>
                    <button class="nav-item special-item" data-target="glosario" title="Glosario Scrum">
                        <span class="icon">üìö</span>
                        <span class="text">Glosario Scrum</span>
                    </button>
                    <button class="nav-item special-item" data-target="transferencia" title="Simulador Sprint">
                        <span class="icon">üèÉ</span>
                        <span class="text">Simulador Sprint</span>
                    </button>
                    <button class="nav-item premium-item" data-target="vision-game" title="Scrum Vision">
                        <span class="icon">üëÅÔ∏è</span>
                        <span class="text">Scrum Vision</span>
                    </button>
                </div>
            </nav>

            <div class="user-status glass-panel">
                <small>Progreso del Aprendiz</small>
                <div class="level-badge">Nivel <span id="level-display">Novato</span></div>
                <div class="xp-bar-container">
                    <div class="xp-bar" id="xp-bar"></div>
                </div>
            </div>
        </aside>

        <!-- √ÅREA PRINCIPAL DE CONTENIDO -->
        <main class="main-content">

            <!-- CONTENEDOR DE LA GU√çA (TEXTO Y TEOR√çA) -->
            <section id="guide-container" class="content-view active-view">
                <!-- Se inyectar√° contenido din√°micamente desde guide-content.js -->
            </section>

            <!-- CONTENEDOR ESPEC√çFICO DEL SIMULADOR (OCULTO POR DEFECTO) -->
            <section id="simulator-container" class="content-view hidden-view">
                <h1>Simulador de Sprint Scrum</h1>
                <p>Gestiona el flujo de trabajo y protege al equipo.</p>
                </header>

                <div class="simulator-onboarding glass-panel">
                    <p>üí° <b>Objetivo del Sprint:</b> Implementar el sistema de Login y Lista de Restaurantes funcional.
                    </p>
                    <div class="onboarding-steps">
                        <h3>C√≥mo usar el simulador</h3>
                        <ol>
                            <li>Lee el objetivo y selecciona las historias clave.</li>
                            <li>Arrastra tarjetas de <b>Por Hacer</b> a <b>En Progreso</b> para empezar.</li>
                            <li>Finaliza tareas movi√©ndolas a <b>Terminado</b>.</li>
                            <li>Pulsa ‚ÄúFinalizar D√≠a‚Äù para registrar avances y eventos.</li>
                            <li>Revisa tus m√©tricas y ajusta el plan.</li>
                        </ol>
                    </div>
                    <div class="onboarding-legend">
                        <h4>Gu√≠a r√°pida</h4>
                        <dl>
                            <dt>SP</dt>
                            <dd>Puntos de Historia. Estiman esfuerzo, no tiempo exacto.</dd>
                            <dt>D√≠a</dt>
                            <dd>Duraci√≥n del Sprint. Avanza con ‚ÄúFinalizar D√≠a‚Äù.</dd>
                            <dt>Moral</dt>
                            <dd>Estado del equipo. Baja si hay sobrecarga o bloqueos.</dd>
                        </dl>
                    </div>
                </div>

                <div class="simulator-dashboard">
                    <div class="sprint-status glass-panel">
                        <div class="status-item">D√≠a: <span id="sim-day">1</span>/10 <span class="icon">üìÜ</span></div>
                        <div class="status-item">Moral: <span id="sim-morale">100%</span> <span class="icon">‚ù§Ô∏è</span>
                        </div>
                        <div class="status-item">SP Completados: <span id="sim-velocity">0</span> <span
                                class="icon">üöÄ</span></div>
                    </div>

                    <div class="kanban-board" id="kanban-board">
                        <div class="column" id="col-todo" data-status="todo">
                            <div class="col-header to-do">Por Hacer</div>
                            <div class="droppable-area" data-status="todo"></div>
                        </div>
                        <div class="column" id="col-progress" data-status="inprogress">
                            <div class="col-header in-progress">En Progreso</div>
                            <div class="droppable-area" data-status="inprogress"></div>
                        </div>
                        <div class="column" id="col-done" data-status="done">
                            <div class="col-header done">Terminado</div>
                            <div class="droppable-area" data-status="done"></div>
                        </div>
                    </div>

                    <div class="controls">
                        <button id="btn-next-day" class="action-btn primary-btn">Finalizar D√≠a (Daily Scrum)</button>
                        <button id="btn-reset" class="action-btn danger-btn">Reiniciar Simulaci√≥n</button>
                    </div>
                </div>
            </section>

            <!-- CONTENEDOR SCRUM VISION (NUEVO) -->
            <section id="vision-game-container" class="content-view hidden-view h-full">
                <!-- Inyectado por scrum-vision-game.js -->
            </section>

            <!-- PIE DE P√ÅGINA -->
            <footer class="app-footer">
                <div class="footer-content">
                    <p>&copy; 2026 ScrumMastery ADSO. Todos los derechos reservados.</p>
                    <div class="footer-links">
                        <span>Versi√≥n 2.0.0</span>
                        <span class="separator">‚Ä¢</span>
                        <span>Desarrollado con ‚ù§Ô∏è para el SENA</span>
                    </div>
                </div>
            </footer>

        </main>
    </div>

    <!-- MODAL PARA CONTENIDO (TEOR√çA / DETALLES) -->
    <div id="content-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="content-modal-title">
        <div class="modal-content modal-content--wide glass-panel" role="document" tabindex="-1">
            <div class="modal-header">
                <h2 id="content-modal-title">Detalle</h2>
                <button type="button" class="modal-close" aria-label="Cerrar" data-modal-close>
                    ‚úï
                </button>
            </div>
            <div id="content-modal-body" class="modal-body"></div>
        </div>
    </div>

    <!-- MODAL PARA DECISIONES / FEEDBACK -->
    <div id="decision-modal" class="modal hidden">
        <div class="modal-content glass-panel">
            <h2 id="modal-title">Evento del Sprint</h2>
            <p id="modal-desc">...</p>
            <div class="modal-options" id="modal-options"></div>
        </div>
    </div>

    <!-- MODAL PARA IM√ÅGENES (ZOOM) -->
    <div id="image-modal" class="modal modal--image hidden" role="dialog" aria-modal="true">
        <div class="modal-content modal-content--image glass-panel">
            <button type="button" class="modal-close" aria-label="Cerrar" onclick="app.closeImageModal()">
                ‚úï
            </button>
            <div class="modal-body">
                <img id="modal-image-enlarged" src="" alt="Imagen ampliada">
                <p id="modal-image-caption" class="caption"></p>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        // Inicializar Mermaid
        mermaid.initialize({ startOnLoad: false, theme: 'dark' });
    </script>
    <script type="module" src="js/app.js"></script>
</body>

</html>